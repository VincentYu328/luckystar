Lucky Star ä¼ä¸šä¿¡æ¯ç®¡ç†ç³»ç»Ÿ & ç½‘ç«™ â€” é¡¹ç›®éœ€æ±‚è¯´æ˜ä¹¦ï¼ˆå·¥ç¨‹å¸ˆæ‹Ÿå®šç‰ˆï¼‰
ç¼–å†™è€…ï¼šVincent Yuï¼ˆç³»ç»Ÿæ¶æ„ä¸å¼€å‘è´Ÿè´£äººï¼‰
ç‰ˆæœ¬ï¼šV1.0
æ—¥æœŸï¼š2025 å¹´ 11 æœˆ 20 æ—¥

1. é¡¹ç›®èƒŒæ™¯ä¸ç›®æ ‡
Lucky Star ä½äºå¥¥å…‹å…° Otahuhuï¼Œæ˜¯ä¸€å®¶ä»¥å¸ƒæ–™é›¶å”®ã€æˆè¡£é”€å”®ã€å®šåˆ¶è£å‰ªã€å›¢ä½“è®¢å•æœåŠ¡ä¸ºæ ¸å¿ƒçš„æœè£…ä¼ä¸šã€‚
å®¢æˆ·ç¾¤ä½“ä»¥æœ¬åœ°åŠå¤§æ´‹æ´²å¤ªå¹³æ´‹è£”ç¤¾åŒºä¸ºä¸»ï¼Œå…·å¤‡æ˜æ˜¾çš„æ–‡åŒ–è®¾è®¡åå¥½ã€å›¢è´­éœ€æ±‚ä¸ç°åœºé‡ä½“æµç¨‹ã€‚
éšç€è®¢å•é‡æŒç»­å¢é•¿ï¼Œä¼ä¸šé€æ¸é¢ä¸´ä»¥ä¸‹é—®é¢˜ï¼š
â€¢	è¿›è´§ã€å‡ºè´§ã€åº“å­˜ç›˜ç‚¹ä¾èµ–äººå·¥è®°å½•ï¼Œå®¹æ˜“é—æ¼
â€¢	å›¢ä½“å®¢æˆ·ä¿¡æ¯å¤æ‚ï¼ˆå­¦æ ¡ã€æ•™ä¼šï¼‰ï¼Œéš¾ä»¥ç®¡ç†ä¸è¿½è¸ª
â€¢	é‡ä½“æ•°æ®æ•£è½äºçº¸å¼ ã€å£è¿°ã€æ‰‹æœºçŸ­è®¯ï¼Œä¸æ˜“ç»Ÿä¸€å­˜æ¡£
â€¢	å®¢æˆ·å¸Œæœ›å¯ä»¥åœ¨çº¿æµè§ˆäº§å“å¹¶è‡ªä¸»ä¸‹å•
â€¢	ä¼ä¸šå†…éƒ¨ç¼ºä¹ç»Ÿä¸€çš„è§’è‰²æƒé™ç®¡ç†ã€æ“ä½œæ—¥å¿—ç®¡ç†
ä¸ºæ­¤ï¼Œæœ¬é¡¹ç›®æ—¨åœ¨ä¸º Lucky Star æ„å»ºï¼š
ä¸€ä¸ªå…¨æ–°çš„ä¸€ä½“åŒ–ä¼ä¸šä¿¡æ¯ç®¡ç†ç³»ç»Ÿï¼ˆåç«¯ï¼‰ + å¯¹å¤–ç½‘ç«™ç³»ç»Ÿï¼ˆå‰ç«¯ï¼‰
å®ç°ï¼š
â€¢	äº§å“ã€å¸ƒæ–™ã€æˆè¡£ã€å®šåˆ¶çš„ç»Ÿä¸€æ•°æ®ç®¡ç†
â€¢	ç°è´§ä¸å®šåˆ¶è®¢å•çš„æµè½¬ç®¡ç†
â€¢	å›¢ä½“è®¢å•ä¸æˆå‘˜é‡ä½“çš„ä¸“ä¸šç®¡ç†
â€¢	å®¢æˆ·çš„åœ¨çº¿æµè§ˆä¸ä¸‹å•
â€¢	ä¼ä¸šå†…éƒ¨çš„æƒé™ä½“ç³»ä¸æ“ä½œå®¡è®¡
â€¢	åŸºäº SQLite çš„ç¨³å®šã€è½»é‡çº§è¿›é”€å­˜
æœ¬ç³»ç»Ÿå°†æˆä¸º Lucky Star æœªæ¥ 5â€“10 å¹´çš„åŸºç¡€ä¿¡æ¯å¹³å°ã€‚

2. ç³»ç»Ÿæ€»ä½“æ¶æ„
åç«¯ï¼š
â€¢	Node.js + Express REST API
â€¢	SQLite å•æ–‡ä»¶æ•°æ®åº“
â€¢	åŸºäºä¸¥è°¨ ERD çš„å®ä½“å±‚ï¼ˆå·²å®Œæˆï¼‰
å‰ç«¯ï¼š
â€¢	SvelteKitï¼ˆSSRï¼‰
â€¢	äº§å“æµè§ˆã€åœ¨çº¿ä¸‹å•ã€è®¢å•æŸ¥è¯¢
â€¢	å†…éƒ¨åå°ç®¡ç†ç•Œé¢ï¼ˆAdmin Portalï¼‰
æœåŠ¡å™¨éƒ¨ç½²ï¼š
â€¢	Nginx ä½œåå‘ä»£ç†
â€¢	ç‹¬ç«‹è¿è¡Œå‰ç«¯ï¼ˆSSRï¼‰
â€¢	åç«¯ä½¿ç”¨ Node æœåŠ¡
â€¢	æ•°æ®åº“æ–‡ä»¶æŒä¹…åŒ–å­˜å‚¨

3. ç³»ç»ŸåŠŸèƒ½æ¨¡å—éœ€æ±‚ï¼ˆåŸºäº ERD + ä¸šåŠ¡åˆ†æï¼‰
ä»¥ä¸‹å†…å®¹æ˜¯è§„èŒƒåŒ–éœ€æ±‚ï¼Œæœªæ¥å¼€å‘çš„ APIã€å‰ç«¯ UIã€æƒé™æ§åˆ¶å…¨éƒ¨ä»¥æ­¤ä¸ºä¾æ®ã€‚

3.1 è¿›é”€å­˜æ¨¡å—ï¼ˆInventory & Product Managementï¼‰
3.1.1 äº§å“åˆ†ç±»ç®¡ç†
æ”¯æŒä¸‰çº§åˆ†ç±»ç»“æ„ï¼š
â€¢	å¸ƒæ–™ï¼ˆFabricï¼‰
â€¢	æˆè¡£ï¼ˆGarmentï¼‰
o	ç”·è£…ï¼ˆMensï¼‰
o	å¥³è£…ï¼ˆWomensï¼‰
o	ç”·ç«¥è£…ï¼ˆBoysï¼‰
o	å¥³ç«¥è£…ï¼ˆGirlsï¼‰
3.1.2 äº§å“åº“ï¼ˆProductsï¼‰
ç³»ç»Ÿæ”¯æŒç»Ÿä¸€ç®¡ç†ä¸¤å¤§ç±»äº§å“ï¼š
(1) å¸ƒæ–™ Fabric
â€¢	æè´¨ï¼ˆmaterialï¼‰
â€¢	èŠ±çº¹ï¼ˆpatternï¼‰
â€¢	å¹…å®½ï¼ˆwidth_cmï¼‰
â€¢	é¢œè‰²ï¼ˆcolorï¼‰
(2) æˆè¡£ Garment
â€¢	å…³è”å¸ƒæ–™ï¼ˆfabric_idï¼‰
â€¢	æ¬¾å¼ï¼ˆstyleï¼‰
â€¢	æ€§åˆ«ï¼ˆgenderï¼‰
â€¢	å°ºç ï¼ˆsize_labelï¼‰
â€¢	é¢œè‰²ï¼ˆcolorï¼‰
æ¯ä¸ªäº§å“æ”¯æŒï¼š
â€¢	å¤šå›¾ç‰‡ï¼ˆå«ä¸»å›¾ï¼‰
â€¢	æè¿°
â€¢	åº“å­˜é‡è‡ªåŠ¨æ±‡æ€»
3.1.3 åº“å­˜ç³»ç»Ÿï¼ˆStock Levelsï¼‰
åº“å­˜è‡ªåŠ¨ç®¡ç†ï¼š
â€¢	ç¦æ­¢ç›´æ¥ä¿®æ”¹åº“å­˜ï¼ˆtrigger å·²å®ç°ï¼‰
â€¢	è‡ªåŠ¨æ›´æ–°åº“å­˜ï¼ˆtrigger å·²å®ç°ï¼‰
â€¢	æ”¯æŒä¸‰ç±»æµæ°´ï¼š
o	å…¥åº“ï¼ˆinï¼‰
o	å‡ºåº“ï¼ˆoutï¼‰
o	è°ƒæ•´ï¼ˆadjustï¼‰
ç”±ç³»ç»Ÿè‡ªåŠ¨è®°å½•ï¼š
â€¢	æ“ä½œäººï¼ˆoperated_byï¼‰
â€¢	å‰ååº“å­˜é‡
æ”¯æŒç›˜ç‚¹åŠŸèƒ½ï¼ˆHEAD æˆ–ç»ç†æ‰§è¡Œè°ƒæ•´ï¼‰ã€‚

3.2 å®¢æˆ·ç®¡ç†æ¨¡å—ï¼ˆCustomersï¼‰
æ”¯æŒä¸‰ç±»å®¢æˆ·ç±»å‹ï¼š
â€¢	retailï¼ˆæ™®é€šé›¶å”®å®¢æˆ·ï¼‰
â€¢	group_leaderï¼ˆå­¦æ ¡/æ•™ä¼šå›¢ä½“è´Ÿè´£äººï¼‰
â€¢	wholesaleï¼ˆå¯æ‰©å±•ï¼‰
å®¢æˆ·åŒ…å«ï¼š
â€¢	å§“å
â€¢	ç”µè¯ï¼ˆå¿…å¡«ï¼‰
â€¢	emailï¼ˆå¿…å¡«ï¼‰
â€¢	åœ°å€
â€¢	å¾®ä¿¡ / WhatsApp
â€¢	åˆ›å»ºã€æ›´æ–°æ—¶é—´è‡ªåŠ¨è®°å½•ï¼ˆtrigger å·²å®ç°ï¼‰

3.3 å›¢ä½“è®¢å•ç³»ç»Ÿï¼ˆGroup Ordersï¼‰
æ¯å¹´ Lucky Star æ¥å¾…å¤§é‡å›¢ä½“ï¼ˆå­¦æ ¡ã€æ•™ä¼šã€ç¤¾åŒºï¼‰ï¼Œç³»ç»Ÿéœ€æ”¯æŒä¸“ä¸šçš„å›¢ä½“ç»“æ„ã€‚
3.3.1 å›¢ä½“è®¢å•ï¼ˆGroup Ordersï¼‰
åŒ…å«ï¼š
â€¢	å›¢ä½“ leaderï¼ˆå¤–é”® customersï¼‰
â€¢	leader å¿«ç…§ï¼ˆå§“å/ç”µè¯/emailï¼‰
â†’ ç¡®ä¿å†å²æ­£ç¡®æ€§
â€¢	å›¢ä½“åç§°ã€æ´»åŠ¨åç§°ã€æ´»åŠ¨èµ·æ­¢æ—¶é—´
â€¢	æˆå‘˜æ•°é‡é¢„ä¼°
â€¢	é€‰å®šå¸ƒæ–™ï¼ˆfabric_selected æˆ– product_id æ–¹æ¡ˆï¼‰
â€¢	å¤šå¸ƒæ–™ç»‘å®šï¼ˆgroup_order_fabricsï¼‰
3.3.2 å›¢ä½“æˆå‘˜ï¼ˆGroup Membersï¼‰
åŒ…å«ï¼š
â€¢	å¯é€‰å…³è” customer_idï¼ˆé¿å…é‡å¤ç™»è®°ï¼‰
â€¢	å§“åã€ç”µè¯ã€emailï¼ˆç”µè¯å¿…å¡«ï¼‰
â€¢	å¤‡æ³¨ note
3.3.3 å›¢ä½“é‡ä½“ï¼ˆMeasurementsï¼‰
ç³»ç»Ÿæ”¯æŒå½•å…¥ï¼š
â€¢	èº«é«˜ / èƒ¸å›´ / è…°å›´ / è‡€å›´ / è‚©å®½ / è¢–é•¿ / è£¤é•¿ç­‰
æ‰€æœ‰é‡ä½“å…³è”ï¼š
â€¢	customer æˆ– group_memberï¼ˆäºŒé€‰ä¸€ï¼‰
â€¢	æµ‹é‡äººï¼ˆstaffï¼‰
â€¢	æµ‹é‡æ—¶é—´

3.4 é›¶å”®è®¢å•ç³»ç»Ÿï¼ˆPOS Retail Ordersï¼‰
æ”¯æŒï¼š
â€¢	è®¢å•ç¼–å·è‡ªåŠ¨ç”Ÿæˆ
â€¢	è®¢å•çŠ¶æ€æµè½¬ï¼š
o	pending
o	confirmed
o	completed
o	cancelled
å­—æ®µåŒ…æ‹¬ï¼š
â€¢	subtotal
â€¢	discount
â€¢	deposit
â€¢	total
â€¢	due_dateï¼ˆé¢„è®¡å®Œæˆæ—¥æœŸï¼‰
â€¢	æ“ä½œäººï¼šcreated_by / confirmed_by
æ˜ç»†è®°å½•ï¼š
â€¢	SKU
â€¢	åç§°
â€¢	å°ºç å¿«ç…§
â€¢	é¢œè‰²å¿«ç…§
â€¢	æ•°é‡
â€¢	å°è®¡

3.5 æ”¯ä»˜è®°å½•ï¼ˆPaymentsï¼‰
æ”¯æŒï¼š
â€¢	é›¶å”®è®¢å•ä»˜æ¬¾
â€¢	å›¢ä½“è®¢å•ä»˜æ¬¾
â€¢	æ”¯æŒå¤šç§æ–¹å¼ï¼šç°é‡‘/å¡/EFTPOS/é“¶è¡Œè½¬è´¦
â€¢	åˆ†æœŸä»˜æ¬¾æ¶æ„ï¼šè®¢é‡‘ / ä½™æ¬¾ / å…¨é¢
å¯¹é“¶è¡Œè½¬è´¦æ”¯æŒï¼š
â€¢	è½¬è´¦ç ï¼ˆtransfer_referenceï¼‰
â€¢	æ ¸å®çŠ¶æ€ï¼ˆtransfer_verifiedï¼‰
â€¢	æ ¸å®äºº verified_by
â€¢	æ ¸å®æ—¶é—´ verified_date
æ»¡è¶³å¤šæ¬¡åˆ†æ¬¡æ”¯ä»˜éœ€æ±‚ã€‚

3.6 å°ºç è¡¨ç³»ç»Ÿï¼ˆSize Chartsï¼‰
Lucky Star é‡‡ç”¨è‡ªæœ‰å°ºç è¡¨ï¼Œç³»ç»Ÿæ”¯æŒï¼š
â€¢	å¤šå¥—å°ºç è¡¨ï¼ˆç”·è£…ã€å¥³è£…ã€å„¿ç«¥ç­‰ï¼‰
â€¢	å„å°ºç çš„è¯¦ç»†èº«ä½“å‚æ•°ï¼š
o	èƒ¸å›´
o	è…°å›´
o	è‡€å›´
o	èº«é«˜
o	è‚©å®½
o	è¢–é•¿
o	è£¤é•¿
o	è¡£é•¿
ä¾›å®¢æˆ·åœ¨çº¿ä¸‹å•æ—¶å‚è€ƒã€‚

3.7 åœ¨çº¿äº§å“æµè§ˆ / å®¢æˆ·ä¸‹å•ï¼ˆWebsite Frontendï¼‰
å®¢æˆ·ä»å®˜ç½‘å¯ï¼š
âœ” æµè§ˆæˆè¡£äº§å“
æŒ‰ï¼š
â€¢	ç±»åˆ«
â€¢	é¢œè‰²
â€¢	å°ºç 
â€¢	åº“å­˜çŠ¶æ€
â€¢	ä»·æ ¼
âœ” æµè§ˆå¸ƒæ–™ï¼ˆFabricï¼‰
æŒ‰ï¼š
â€¢	é¢æ–™æè´¨
â€¢	é¢œè‰²
â€¢	èŠ±çº¹
â€¢	å¯é¢„çº¦å®šåˆ¶
âœ” åœ¨çº¿ä¸‹å•
å®¢æˆ·å¯ä»¥åœ¨å‰ç«¯å¡«å†™ï¼š
â€¢	é‡ä½“æ•°æ®ï¼ˆcm/inchï¼‰
â€¢	é€‰å®šäº§å“ä¸å°ºå¯¸
â€¢	å¤‡æ³¨è¯´æ˜
â€¢	è”ç³»æ–¹å¼
ç³»ç»Ÿä¿å­˜ä¸ºé›¶å”®è®¢å•ï¼ˆretail_ordersï¼‰ã€‚

3.8 è§’è‰²ä¸æƒé™ç®¡ç†ï¼ˆRBACï¼‰
ç³»ç»Ÿæœ‰ä¸‰ç±»å‘˜å·¥è§’è‰²ï¼š
â€¢	admin
â€¢	manager
â€¢	sales
å…·å¤‡ï¼š
â€¢	è§’è‰²ç»§æ‰¿
â€¢	æƒé™èŠ‚ç‚¹ï¼ˆç»†é¢—ç²’åº¦ï¼‰
â€¢	èŒä½ Position â†’ Role ç»‘å®š
â€¢	å®¡è®¡æ—¥å¿—è®°å½•æ‰€æœ‰å…³é”®åŠ¨ä½œ
æ»¡è¶³å¯æ‰©å±•æ€§ï¼ˆæœªæ¥å¯åŠ  warehouseã€finance ç­‰ï¼‰ã€‚

4. æ•°æ®åº“è®¾è®¡ï¼ˆERDï¼‰
åŸºäºä¸Šè¿°éœ€æ±‚ï¼Œæœ¬ç³»ç»Ÿçš„æ•°æ®åº“ä½¿ç”¨ SQLiteï¼Œç»“æ„åŒ…æ‹¬ï¼š
â€¢	roles / positions / users
â€¢	customers
â€¢	group_orders
â€¢	group_members
â€¢	products / product_images
â€¢	stock_levels / inventory_transactions
â€¢	retail_orders / retail_order_items
â€¢	size_charts / size_chart_items
â€¢	measurements
â€¢	payments
â€¢	audit_logs
æ‰€æœ‰å¤–é”®å…³ç³»ã€è§¦å‘å™¨å·²ç»å®Œå¤‡ï¼ˆè§é™„å½• ERDï¼‰ã€‚
â€ƒ

![alt text](ERD.png)



# Lucky Star Backend - é¡¹ç›®ç»“æ„

```
backend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app.js                         # Express åº”ç”¨ä¸»é…ç½®
â”‚   â”œâ”€â”€ server.js                      # æœåŠ¡å™¨å…¥å£ï¼ˆç›‘å¬ç«¯å£ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ database/
â”‚   â”‚   â”œâ”€â”€ db.js                      # SQLite è¿æ¥ & åˆå§‹åŠ è½½
â”‚   â”‚   â”œâ”€â”€ init-db.sql                # å…¨é‡æ•°æ®åº“ Schema + è§¦å‘å™¨
â”‚   â”‚   â””â”€â”€ migrations/                # å°†æ¥ç”¨äºç»“æ„è¿ç§»
â”‚   â”‚       â””â”€â”€ README.md
â”‚   â”‚
â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â”œâ”€â”€ auth.js                    # STAFF JWT é‰´æƒä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ customerAuth.js            # â­ CUSTOMER JWT é‰´æƒï¼ˆç½‘ç«™ç”¨æˆ·ï¼‰
â”‚   â”‚   â”œâ”€â”€ rbac.js                    # STAFF RBAC æƒé™æ§åˆ¶
â”‚   â”‚   â””â”€â”€ errorHandler.js            # å…¨å±€é”™è¯¯å¤„ç†
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ jwt.js                     # JWT ç­¾å / éªŒè¯å·¥å…·
â”‚   â”‚   â”œâ”€â”€ password.js                # bcrypt å¯†ç å·¥å…·
â”‚   â”‚   â”œâ”€â”€ validate.js                # é€šç”¨å­—æ®µéªŒè¯
â”‚   â”‚   â”œâ”€â”€ logger.js                  # Winston æ—¥å¿—
â”‚   â”‚   â””â”€â”€ fileService.js             # â­ NEW æ–‡ä»¶å†™å…¥/åˆ é™¤ï¼ˆmulterï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ data/                          # DAO å±‚ï¼šSQLite æœ€ä½å±‚
â”‚   â”‚   â”œâ”€â”€ users-dao.js               # staff ç”¨æˆ·è¡¨
â”‚   â”‚   â”œâ”€â”€ customers-dao.js           # ç½‘ç«™å®¢æˆ·
â”‚   â”‚   â”œâ”€â”€ products-dao.js            # äº§å“
â”‚   â”‚   â”œâ”€â”€ product-images-dao.js      # â­ NEW äº§å“å›¾ç‰‡ DAO
â”‚   â”‚   â”œâ”€â”€ orders-dao.js              # é›¶å”®è®¢å•
â”‚   â”‚   â”œâ”€â”€ measurements-dao.js        # é‡ä½“æ•°æ®
â”‚   â”‚   â”œâ”€â”€ payments-dao.js            # æ”¯ä»˜
â”‚   â”‚   â”œâ”€â”€ sizechart-dao.js           # å°ºç è¡¨
â”‚   â”‚   â””â”€â”€ audit-dao.js               # å®¡è®¡æ—¥å¿—
â”‚   â”‚
â”‚   â”œâ”€â”€ services/                      # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚   â”œâ”€â”€ authService.js             # STAFF è®¤è¯ / ç™»å½• / é‡ç½®å¯†ç 
â”‚   â”‚   â”œâ”€â”€ customerAuthService.js     # â­ CUSTOMER æ³¨å†Œ / ç™»å½• / Token
â”‚   â”‚   â”œâ”€â”€ userService.js             # STAFF ç”¨æˆ·ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ customerService.js         # å®¢æˆ·/å›¢ä½“/é‡ä½“ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ productService.js          # äº§å“ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ productImageService.js     # â­ NEW äº§å“å›¾ç‰‡ä¸Šä¼ /åˆ é™¤
â”‚   â”‚   â”œâ”€â”€ retailOrderService.js      # é›¶å”®è®¢å•æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ paymentService.js          # æ”¯ä»˜æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ measurementService.js      # é‡ä½“è®°å½•
â”‚   â”‚   â”œâ”€â”€ sizechartService.js        # å°ºç è¡¨
â”‚   â”‚   â””â”€â”€ auditService.js            # å®¡è®¡æ—¥å¿—å†™å…¥
â”‚   â”‚
â”‚   â””â”€â”€ routes/
â”‚       â”œâ”€â”€ api.js                     # API æ€»è·¯ç”±ï¼ˆèšåˆæ‰€æœ‰å­è·¯ç”±ï¼‰
â”‚       â”œâ”€â”€ authRoutes.js              # STAFF ç™»å½• / ç™»å‡º / æƒé™
â”‚       â”œâ”€â”€ customerAuthRoutes.js      # â­ CUSTOMER æ³¨å†Œ / ç™»å½•
â”‚       â”œâ”€â”€ userRoutes.js              # STAFF ç®¡ç†ç”¨æˆ·
â”‚       â”œâ”€â”€ customerRoutes.js          # ç®¡ç† Customer / å›¢ä½“ / é‡ä½“
â”‚       â”œâ”€â”€ productRoutes.js           # äº§å“ CRUD
â”‚       â”œâ”€â”€ productImageRoutes.js      # â­ NEW äº§å“å›¾ç‰‡ä¸Šä¼ /æ’åº/åˆ é™¤
â”‚       â”œâ”€â”€ retailOrderRoutes.js       # è®¢å• CRUD + è®¢å•è¯¦æƒ…
â”‚       â”œâ”€â”€ paymentRoutes.js           # æ”¯ä»˜è®°å½•
â”‚       â”œâ”€â”€ measurementRoutes.js       # é‡ä½“ä¸Šä¼ ï¼ˆåå°ï¼‰
â”‚       â”œâ”€â”€ sizechartRoutes.js         # å°ºç è¡¨
â”‚       â””â”€â”€ auditRoutes.js             # æŸ¥çœ‹å®¡è®¡æ—¥å¿—
â”‚
â”œâ”€â”€ uploads/                           # â­ NEW â€” è¿è¡Œæ—¶åŠ¨æ€ç”Ÿæˆç›®å½•
â”‚   â””â”€â”€ products/                      # äº§å“å›¾ï¼ˆç”± multer åˆ›å»ºï¼‰
â”‚
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ generate-hash.js               # bcrypt å·¥å…·
â”‚   â”œâ”€â”€ create-admin.js                # åˆ›å»º HEAD ç®¡ç†å‘˜
â”‚   â”œâ”€â”€ test-init-db.js                # æµ‹è¯•åˆå§‹åŒ–æ•°æ®åº“
â”‚   â”œâ”€â”€ seed-dev-data.js               # å¼€å‘ç¯å¢ƒæ¨¡æ‹Ÿæ•°æ®
â”‚   â”œâ”€â”€ seed-test-data.js              # ç”Ÿæˆæµ‹è¯•åº“å­˜
â”‚   â”œâ”€â”€ backup-db.js                   # æ•°æ®åº“å¤‡ä»½
â”‚   â”œâ”€â”€ check-db-health.js             # DB å¥åº·æ£€æŸ¥
â”‚   â””â”€â”€ reset-dev.sh                   # ä¸€é”®é‡ç½®å¼€å‘ DB
â”‚
â”œâ”€â”€ data/
â”‚   â””â”€â”€ app.db                         # SQLiteï¼ˆç”Ÿäº§ / å¼€å‘ï¼‰
â”‚
â”œâ”€â”€ .env                               # ç¯å¢ƒå˜é‡ï¼ˆç”Ÿäº§ï¼‰
â”œâ”€â”€ .env.development                   # ç¯å¢ƒå˜é‡ï¼ˆå¼€å‘ï¼‰
â”œâ”€â”€ .env.example                       # æ¨¡æ¿
â”œâ”€â”€ .gitignore
â”œâ”€â”€ package.json
â”œâ”€â”€ README.md
â””â”€â”€ PROJECT_STRUCTURE.md

---

ä¸»è¦ç‰¹ç‚¹

SQLite å•æ–‡ä»¶æ•°æ®åº“ï¼ˆWAL æ¨¡å¼ï¼‰ï¼Œæ‰€æœ‰è¡¨ç»“æ„ç”± init-db.sql ç®¡ç†ã€‚

Inventory é‡‡ç”¨è§¦å‘å™¨ä¿æŠ¤ï¼šç¦æ­¢ç›´æ¥å†™å…¥ï¼Œå¿…é¡»èµ° inventoryServiceã€‚

ç»Ÿä¸€ä¸‰å±‚æ¶æ„ï¼šRoutes â†’ Services â†’ DAO â†’ SQLiteã€‚

æµ‹è¯•ä¸ç”Ÿäº§å…±ç”¨åŒä¸€ SQL Schemaï¼›æµ‹è¯•åŒºå—ä½äºæ–‡ä»¶æœ«ç«¯ï¼Œé»˜è®¤æ³¨é‡Šã€‚

ç¯å¢ƒå˜é‡

å¼€å‘

NODE_ENV=development
DB_MODE=dev


ç”Ÿäº§

NODE_ENV=production
DB_MODE=prod


DB_MODE=prod ä¼šå¯ç”¨åº“å­˜å†™ä¿æŠ¤ã€‚

å¸¸ç”¨è„šæœ¬
npm run db:init        # åˆå§‹åŒ–æ•°æ®åº“ï¼ˆä½¿ç”¨ init-db.sqlï¼‰
npm run db:reset       # æ¸…ç©º + åˆå§‹åŒ– + æµ‹è¯•æ•°æ®
npm run db:seed:dev    # æ·»åŠ å¼€å‘æ ·ä¾‹æ•°æ®
npm run admin:create   # åˆ›å»ºç®¡ç†å‘˜è´¦å·
npm run db:health      # æŸ¥çœ‹æ•°æ®åº“çŠ¶æ€
npm run db:backup      # æ‰‹åŠ¨å¤‡ä»½
npm run dev            # å¯åŠ¨å¼€å‘æœåŠ¡å™¨



# Lucky Star Frontend - é¡¹ç›®ç»“æ„

```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app.html
â”‚   â”œâ”€â”€ app.css
â”‚
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ +layout.svelte
â”‚   â”‚   â”œâ”€â”€ +layout.server.js
â”‚   â”‚   â”œâ”€â”€ +error.svelte
â”‚   â”‚   â”œâ”€â”€ +page.svelte
â”‚   â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ about/
â”‚   â”‚   â”‚   â””â”€â”€ +page.svelte
â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ products/
â”‚   â”‚   â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â””â”€â”€ +page.svelte
â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ fabrics/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ +page.svelte
â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ garments/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ mens/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚   â”‚       â””â”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ womens/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚   â”‚       â””â”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ boys/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚   â”‚       â””â”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ girls/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚           â””â”€â”€ +page.svelte
â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â””â”€â”€ item/
â”‚   â”‚   â”‚       â””â”€â”€ [id]/
â”‚   â”‚   â”‚           â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚           â””â”€â”€ +page.svelte
â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ sizechart/
â”‚   â”‚   â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â””â”€â”€ +page.svelte
â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ checkout/
â”‚   â”‚   â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”œâ”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”œâ”€â”€ custom/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ measurement/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ +page.svelte
â”‚   â”‚   â”‚   â””â”€â”€ success/
â”‚   â”‚   â”‚       â””â”€â”€ +page.svelte
â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”œâ”€â”€ register/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ +page.svelte
â”‚   â”‚   â”‚   â””â”€â”€ logout/
â”‚   â”‚   â”‚       â””â”€â”€ +server.js
â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ my/
â”‚   â”‚   â”‚   â”œâ”€â”€ +layout.server.js
â”‚   â”‚   â”‚   â”œâ”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”œâ”€â”€ +layout.svelte
â”‚   â”‚   â”‚   â”œâ”€â”€ +page.sever.js
â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ cart/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ +page.svelte
â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ orders/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ +page.svelte
â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ measurements/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ +page.svelte
â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â””â”€â”€ profile/
â”‚   â”‚   â”‚       â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚       â””â”€â”€ +page.svelte
â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ admin/
â”‚   â”‚   â”‚   â”œâ”€â”€ +layout.server.js
â”‚   â”‚   â”‚   â”œâ”€â”€ +layout.svelte
â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ +page.svelte
â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ products/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ create/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ edit/
â”‚   â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚       â”‚   â””â”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ images/
â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚           â””â”€â”€ +page.svelte
â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ inventory/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ transactions/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ in/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ out/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ adjust/
â”‚   â”‚   â”‚       â””â”€â”€ +page.svelte
â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ retail-orders/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ pending/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ create/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ review/
â”‚   â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚       â”‚   â””â”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ complete/
â”‚   â”‚   â”‚           â””â”€â”€ +page.server.js
â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ group-orders/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ create/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ members/
â”‚   â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ add/
â”‚   â”‚   â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚       â”‚   â”‚   â””â”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚       â”‚   â””â”€â”€ [memberId]/
â”‚   â”‚   â”‚   â”‚       â”‚       â”œâ”€â”€ edit/
â”‚   â”‚   â”‚   â”‚       â”‚       â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚       â”‚       â”‚   â””â”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚       â”‚       â””â”€â”€ measurement/
â”‚   â”‚   â”‚   â”‚       â”‚           â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚       â”‚           â””â”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ fabrics/
â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚           â””â”€â”€ +page.svelte
â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ customers/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ create/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ edit/
â”‚   â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚       â”‚   â””â”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ measurements/         # â­ å®¢æˆ·ä¸‹çš„é‡ä½“å…¥å£ï¼ˆæ–°å¢ç‚¹ï¼‰
â”‚   â”‚   â”‚   â”‚           â””â”€â”€ create/
â”‚   â”‚   â”‚   â”‚               â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚               â””â”€â”€ +page.svelte

â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ measurements/                 # â­ ç®¡ç†åå° Measurement åˆ—è¡¨é¡µï¼ˆæ–°å¢æ¨¡å—ï¼‰
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [id]/                     # â­ é‡ä½“è®°å½•æŸ¥çœ‹é¡µï¼ˆåªè¯»ï¼‰
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ +page.svelte
â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ payments/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ create/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ verify/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ +page.svelte
â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ size-charts/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ create/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ edit/
â”‚   â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚       â”‚   â””â”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ items/
â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚           â””â”€â”€ +page.svelte
â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ users/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ create/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ edit/
â”‚   â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚       â”‚   â””â”€â”€ +page.svelte
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ permissions/
â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚   â”‚           â””â”€â”€ +page.svelte
â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â””â”€â”€ audit/
â”‚   â”‚   â”‚       â”œâ”€â”€ +page.server.js
â”‚   â”‚   â”‚       â””â”€â”€ +page.svelte
â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â””â”€â”€ +server.js
â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ sitemap.xml
â”‚   â”‚   â””â”€â”€ robots.txt
â”‚
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ server/
â”‚   â”‚   â”‚   â”œâ”€â”€ api.js
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.js
â”‚   â”‚   â”‚   â”œâ”€â”€ permissions.js
â”‚   â”‚   â”‚   â””â”€â”€ db.js
â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ admin/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar.svelte
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ DataTable.svelte
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ StatusBadge.svelte
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ PermissionGuard.svelte
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Pagination.svelte
â”‚   â”‚   â”‚   â”œâ”€â”€ forms/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ProductForm.svelte
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MeasurementForm.svelte
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ OrderForm.svelte
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CustomerForm.svelte
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Input.svelte
â”‚   â”‚   â”‚   â”œâ”€â”€ common/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Header.svelte
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Footer.svelte
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LoadingSpinner.svelte
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Modal.svelte
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Toast.svelte
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Card.svelte
â”‚   â”‚   â”‚   â””â”€â”€ products/
â”‚   â”‚   â”‚       â”œâ”€â”€ ProductCard.svelte
â”‚   â”‚   â”‚       â”œâ”€â”€ ProductFilter.svelte
â”‚   â”‚   â”‚       â””â”€â”€ ProductGallery.svelte
â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ stores/
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.js
â”‚   â”‚   â”‚   â”œâ”€â”€ cart.js
â”‚   â”‚   â”‚   â”œâ”€â”€ notifications.js
â”‚   â”‚   â”‚   â””â”€â”€ ui.js
â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”‚   â”œâ”€â”€ format.js
â”‚   â”‚   â”‚   â”œâ”€â”€ validation.js
â”‚   â”‚   â”‚   â”œâ”€â”€ constants.js
â”‚   â”‚   â”‚   â”œâ”€â”€ currency.js
â”‚   â”‚   â”‚   â””â”€â”€ measurement.js
â”‚   â”‚
â”‚   â”‚   â””â”€â”€ types/
â”‚   â”‚       â”œâ”€â”€ index.d.ts
â”‚   â”‚       â”œâ”€â”€ product.d.ts
â”‚   â”‚       â”œâ”€â”€ order.d.ts
â”‚   â”‚       â””â”€â”€ user.d.ts
â”‚
â”‚   â”œâ”€â”€ hooks.server.js
â”‚
â”œâ”€â”€ static/
â”‚   â”œâ”€â”€ images/
â”‚   â”œâ”€â”€ fonts/
â”‚   â””â”€â”€ favicon.png
â”‚
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ unit/
â”‚   â”œâ”€â”€ integration/
â”‚   â””â”€â”€ e2e/
â”‚
â”œâ”€â”€ .env
â”œâ”€â”€ .env.development
â”œâ”€â”€ .env.example
â”œâ”€â”€ svelte.config.js
â”œâ”€â”€ vite.config.js
â”œâ”€â”€ tailwind.config.js
â”œâ”€â”€ package.json
â””â”€â”€ .gitignore


---

## ğŸ“ æ¶æ„è¯´æ˜

### 1. è·¯ç”±å±‚çº§è®¾è®¡åŸåˆ™
- **å‰å°è·¯ç”±**ï¼ˆ`/products`, `/fabrics`, `/order`ï¼‰ï¼šé¢å‘å®¢æˆ·ï¼ŒSEO å‹å¥½ï¼ŒSSR æ¸²æŸ“
- **å®¢æˆ·ä¸­å¿ƒ**ï¼ˆ`/my`ï¼‰ï¼šç™»å½•å®¢æˆ·æŸ¥çœ‹è®¢å•ã€é‡ä½“è®°å½•
- **åå°ç®¡ç†**ï¼ˆ`/admin`ï¼‰ï¼šéœ€æƒé™éªŒè¯ï¼Œå®Œæ•´çš„ ERP åŠŸèƒ½

### 2. SSR ä¸æƒé™æ§åˆ¶
```javascript
// src/hooks.server.js - å…¨å±€è®¤è¯æ‹¦æˆª
export async function handle({ event, resolve }) {
  const token = event.cookies.get('token');
  if (token) {
    const user = await verifyToken(token);
    event.locals.user = user;
  }
  return resolve(event);
}

// src/routes/admin/+layout.server.js - åå°æƒé™éªŒè¯
export async function load({ locals }) {
  if (!locals.user || !locals.user.permissions.includes('admin.access')) {
    throw redirect(302, '/auth/login');
  }
  return { user: locals.user };
}
```

### 3. æ ¸å¿ƒä¸šåŠ¡æµç¨‹æ˜ å°„
| ä¸šåŠ¡åœºæ™¯ | å‰ç«¯è·¯ç”± | åç«¯ API |
|---------|---------|---------|
| å›¢ä½“è®¢å•åˆ›å»º | `/admin/group-orders/create` | `POST /api/group-orders` |
| å›¢ä½“æˆå‘˜é‡ä½“ | `/admin/group-orders/[id]/members/[memberId]/measurement` | `POST /api/measurements` |
| åº“å­˜ç›˜ç‚¹ | `/admin/inventory/adjust` | `POST /api/inventory/adjust` |
| é“¶è¡Œè½¬è´¦æ ¸å® | `/admin/payments/verify` | `PATCH /api/payments/[id]/verify` |

### 4. æŠ€æœ¯æ ˆæ¨è
- **æ¡†æ¶**: SvelteKitï¼ˆSSR + SSGï¼‰
- **æ ·å¼**: Tailwind CSS
- **çŠ¶æ€ç®¡ç†**: Svelte Stores
- **è¡¨å•éªŒè¯**: Zodï¼ˆå‰åç«¯å…±äº« Schemaï¼‰
- **HTTP å®¢æˆ·ç«¯**: åŸç”Ÿ fetchï¼ˆå°è£…åœ¨ `lib/server/api.js`ï¼‰
- **æ—¥æœŸå¤„ç†**: date-fns
- **å›¾è¡¨**: Chart.js æˆ– Apache ECharts

### 5. å…³é”®æ–‡ä»¶è¯´æ˜
- **`hooks.server.js`**: å…¨å±€æ‹¦æˆªå™¨ï¼ŒéªŒè¯ JWT å¹¶è®¾ç½® `event.locals.user`
- **`lib/server/api.js`**: å°è£…åç«¯ API è°ƒç”¨ï¼ˆç»Ÿä¸€é”™è¯¯å¤„ç†ã€Token æ³¨å…¥ï¼‰
- **`lib/server/permissions.js`**: RBAC æƒé™æ£€æŸ¥å·¥å…·
- **`lib/components/admin/DataTable.svelte`**: å¯å¤ç”¨è¡¨æ ¼ç»„ä»¶ï¼ˆæ”¯æŒæ’åºã€ç­›é€‰ã€åˆ†é¡µï¼‰

### 6. ç¯å¢ƒå˜é‡ç¤ºä¾‹
```bash
# .env.example
PUBLIC_API_URL=http://localhost:3000
SECRET_JWT_KEY=your-jwt-secret
```

---

## ğŸš€ ä¸‹ä¸€æ­¥å¼€å‘å»ºè®®
1. **ç¬¬ä¸€é˜¶æ®µ**ï¼šå®ç°åŸºç¡€è®¤è¯ï¼ˆç™»å½•/ç™»å‡ºï¼‰+ äº§å“æµè§ˆ
2. **ç¬¬äºŒé˜¶æ®µ**ï¼šåå°æ ¸å¿ƒåŠŸèƒ½ï¼ˆäº§å“ç®¡ç†ã€åº“å­˜ç®¡ç†ï¼‰
3. **ç¬¬ä¸‰é˜¶æ®µ**ï¼šå›¢ä½“è®¢å•ç³»ç»Ÿï¼ˆLucky Star çš„æ ¸å¿ƒç«äº‰åŠ›ï¼‰
4. **ç¬¬å››é˜¶æ®µ**ï¼šæ”¯ä»˜ä¸å®¡è®¡æ—¥å¿—
5. **ç¬¬äº”é˜¶æ®µ**ï¼šæ€§èƒ½ä¼˜åŒ–ï¼ˆå›¾ç‰‡ CDNã€ç¼“å­˜ç­–ç•¥ï¼‰