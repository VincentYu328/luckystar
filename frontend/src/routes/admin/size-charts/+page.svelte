<script>
    export let data;
    const sizeCharts = data.sizeCharts;
</script>

<div class="space-y-8">

    <!-- æ ‡é¢˜ + æ“ä½œæŒ‰é’® -->
    <div class="flex justify-between items-center">
        <h1 class="text-3xl font-semibold tracking-tight">
            Size Chartsï¼ˆå°ºç è¡¨ï¼‰
        </h1>

        <div class="flex gap-3">
            <a
                href="/size-guide"
                target="_blank"
                class="px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-medium transition"
            >
                ğŸ‘ Preview Public Size Guide
            </a>
            <a
                href="/admin/size-charts/create"
                class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition"
            >
                + New Size Chartï¼ˆæ–°å¢å°ºç è¡¨ï¼‰
            </a>
        </div>
    </div>

    <!-- è¯´æ˜ä¿¡æ¯ -->
    <div class="p-4 bg-blue-50 border border-blue-200 rounded-lg">
        <p class="text-blue-800 text-sm">
            <strong>â„¹ï¸ Note:</strong> Size charts created here will be displayed on the public
            <a href="/size-guide" target="_blank" class="underline hover:text-blue-900">Size Guide</a> page.
            You can preview how they appear to customers by clicking the "Preview" button above.
        </p>
    </div>

    <!-- åˆ—è¡¨ -->
    <div class="bg-white border rounded-lg overflow-x-auto">
        <table class="w-full text-left text-sm">
            <thead class="bg-gray-50 border-b">
                <tr>
                    <th class="p-3">Nameï¼ˆåç§°ï¼‰</th>
                    <th class="p-3">Genderï¼ˆæ€§åˆ«ï¼‰</th>
                    <th class="p-3">Categoryï¼ˆå“ç±»ï¼‰</th>
                    <th class="p-3">Notesï¼ˆå¤‡æ³¨ï¼‰</th>
                    <th class="p-3"></th>
                </tr>
            </thead>

            <tbody>
                {#if sizeCharts.length === 0}
                    <tr>
                        <td class="p-4 text-gray-500 text-center" colspan="5">
                            No size charts yetï¼ˆå°šæ— å°ºç è¡¨ï¼‰
                        </td>
                    </tr>
                {:else}
                    {#each sizeCharts as sc}
                        <tr class="border-b hover:bg-gray-50">

                            <!-- åç§° -->
                            <td class="p-3 font-medium">{sc.name}</td>

                            <!-- æ€§åˆ« -->
                            <td class="p-3">{sc.gender || 'â€”'}</td>

                            <!-- å“ç±»åç§°ï¼ˆåç«¯ join å¥½çš„ï¼‰ -->
                            <td class="p-3">{sc.category_name || 'â€”'}</td>

                            <!-- å¤‡æ³¨ -->
                            <td class="p-3 max-w-md truncate">{sc.notes || 'â€”'}</td>

                            <!-- æ“ä½œ -->
                            <td class="p-3 text-right space-x-3 whitespace-nowrap">
                                <a
                                    href={`/admin/size-charts/${sc.id}/edit`}
                                    class="text-blue-600 hover:underline font-medium"
                                >
                                    Editï¼ˆç¼–è¾‘ï¼‰
                                </a>
                            </td>

                        </tr>
                    {/each}
                {/if}
            </tbody>
        </table>
    </div>

</div>
