// src/routes/sitemap.xml/+server.js
export async function GET() {
  const base = "https://luckystar.co.nz";

  // 固定页面（当前公开页面）
  const staticPages = [
    "",
    "/products",
    "/products/fabrics",
    "/products/garments",
    "/size-guide",
    "/about"   
  ];

  const allUrls = staticPages.map((path) => {
    return `
  <url>
    <loc>${base}${path}</loc>
    <changefreq>weekly</changefreq>
    <priority>${path === "" ? "1.0" : "0.7"}</priority>
  </url>
    `.trim();
  });

  const xml = `
<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
${allUrls.join("\n")}
</urlset>
  `.trim();

  return new Response(xml, {
    headers: {
      "Content-Type": "application/xml"
    }
  });
}
